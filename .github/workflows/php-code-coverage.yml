name: Generate PHP Code Coverage Report

on:
  workflow_dispatch:
    inputs:
      php:
        required: true
        default: '8.1'
        description: 'Generate code coverage report using selected PHP version'
        type: choice
        options:
          - '8.0'
          - '8.1'
          - '8.2'
          - '8.3'

jobs:
#  credentials:
#    runs-on: ubuntu-22.04
#
#    steps:
#      - name: import env vars from file
#        id: env_vars
#        run: cat ${{ env.ENV_FILE }} >> $GITHUB_ENV

  code_coverage:
    uses: verplankedev/.github/.github/workflows/php-code-coverage.yml@main
    secrets:
      env_file: ${{ secrets.ENV_FILE }}

#    with:
#      DB_PORT: ${{ job.services.mysql.ports[3306] }}
#      DB_USERNAME: root
#      AWS_ACCESS_KEY_ID: randomKey
#      AWS_SECRET_ACCESS_KEY: randomSecret
